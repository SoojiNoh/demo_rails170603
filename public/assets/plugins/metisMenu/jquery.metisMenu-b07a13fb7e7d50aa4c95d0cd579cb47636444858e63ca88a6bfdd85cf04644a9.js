!function(t){"use strict";function e(){var t=document.createElement("mm"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}function n(e){return this.each(function(){var n=t(this),i=n.data("mm"),r=t.extend({},o.DEFAULTS,n.data(),"object"==typeof e&&e);i||n.data("mm",i=new o(this,r)),"string"==typeof e&&i[e]()})}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("mmTransitionEnd",function(){n=!0});var r=function(){n||t(o).trigger(i.end)};return setTimeout(r,e),this};var i=e();i&&(t.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}});var o=function(e,n){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,n),this.transitioning=null,this.init()};o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},o.prototype.init=function(){var e=this,n=this.options.activeClass;this.$element.find("li."+n).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+n).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+n).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(i){var o=t(this),r=o.parent("li"),s=r.children("ul");return i.preventDefault(),r.hasClass(n)?e.hide(s):e.show(s),e.options.doubleTapToGo&&e.doubleTapToGo(o)&&"#"!==o.attr("href")&&""!==o.attr("href")?(i.stopPropagation(),void(document.location=o.attr("href"))):void 0})},o.prototype.doubleTapToGo=function(t){var e=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(e.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},o.prototype.show=function(e){var n=this.options.activeClass,r=t(e),s=r.parent("li");if(!this.transitioning&&!r.hasClass("in")){s.addClass(n),this.options.toggle&&this.hide(s.siblings().children("ul.in")),r.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var a=function(){r.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return i?void r.one("mmTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION).height(r[0].scrollHeight):a.call(this)}},o.prototype.hide=function(e){var n=this.options.activeClass,r=t(e);if(!this.transitioning&&r.hasClass("in")){r.parent("li").removeClass(n),r.height(r.height())[0].offsetHeight,r.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var s=function(){this.transitioning=0,r.removeClass("collapsing").addClass("collapse")};return i?void r.height(0).one("mmTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION):s.call(this)}};var r=t.fn.metisMenu;t.fn.metisMenu=n,t.fn.metisMenu.Constructor=o,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=r,this}}(jQuery);